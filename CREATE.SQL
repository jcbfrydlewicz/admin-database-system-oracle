-- Generated by Oracle SQL Developer Data Modeler 22.2.0.165.1149
--   at:        2023-01-07 18:46:26 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE adopcje (
    id_adopcji       INTEGER NOT NULL,
    data             DATE,
    pesel_pracownika INTEGER,
    id_zwierzecia    INTEGER,
    id_choroby       INTEGER,
    id_lekarstwa     INTEGER,
    id_zdrowia       INTEGER,
    id_gatunku       INTEGER,
    id_rasy          INTEGER,
    id_pozywienia    INTEGER,
    id_szczepienia   INTEGER
);

ALTER TABLE adopcje ADD CONSTRAINT adopcje_pk PRIMARY KEY ( id_adopcji );

CREATE TABLE adres (
    id_adresu   INTEGER NOT NULL,
    miejscowosc VARCHAR2(60),
    ulica       VARCHAR2(60)
);

ALTER TABLE adres ADD CONSTRAINT adres_pk PRIMARY KEY ( id_adresu );

CREATE TABLE choroba (
    id_choroby    INTEGER NOT NULL,
    nazwa_choroby VARCHAR2(40)
);

ALTER TABLE choroba ADD CONSTRAINT choroba_pk PRIMARY KEY ( id_choroby );

CREATE TABLE fundusze (
    id_funduszu      INTEGER NOT NULL,
    pesel_pracownika INTEGER
);

ALTER TABLE fundusze ADD CONSTRAINT fundusze_pk PRIMARY KEY ( id_funduszu );

CREATE TABLE gatunki (
    id_gatunku    INTEGER NOT NULL,
    nazwa_gatunku VARCHAR2(40)
);

ALTER TABLE gatunki ADD CONSTRAINT gatunki_pk PRIMARY KEY ( id_gatunku );

CREATE TABLE leki (
    id_lekarstwa    INTEGER NOT NULL,
    nazwa_lekarstwa VARCHAR2(20)
);

ALTER TABLE leki ADD CONSTRAINT leki_pk PRIMARY KEY ( id_lekarstwa );

CREATE TABLE pracownicy (
    pesel_pracownika     INTEGER NOT NULL,
    imie                 VARCHAR2(20 CHAR),
    nazwisko             VARCHAR2(30 CHAR),
    nr_telefonu          VARCHAR2(13 CHAR),
    email                VARCHAR2(30 CHAR),
    data_zatrudnienia    DATE,
    funkcja_w_schornisku VARCHAR2(30),
    id_adresu            INTEGER NOT NULL,
    nr_lokalu            VARCHAR2(5),
    kod_pocztowy         VARCHAR2(6)
);

ALTER TABLE pracownicy ADD CONSTRAINT pracownicy_pk PRIMARY KEY ( pesel_pracownika );

CREATE TABLE przychody (
    id_przychody   INTEGER NOT NULL,
    kwota          FLOAT,
    id_funduszu    INTEGER NOT NULL,
    id_uzytkownika INTEGER NOT NULL
);

ALTER TABLE przychody
    ADD CONSTRAINT przychody_pk PRIMARY KEY ( id_funduszu,
                                              id_przychody,
                                              id_uzytkownika );

CREATE TABLE rasy (
    id_rasy    INTEGER NOT NULL,
    nazwa_rasy VARCHAR2(40)
);

ALTER TABLE rasy ADD CONSTRAINT rasy_pk PRIMARY KEY ( id_rasy );

CREATE TABLE stan_zdrowia (
    id_zdrowia     INTEGER NOT NULL,
    data_wizyty    DATE,
    id_choroby     INTEGER NOT NULL,
    id_lekarstwa   INTEGER NOT NULL,
    id_szczepienia INTEGER NOT NULL
);

ALTER TABLE stan_zdrowia
    ADD CONSTRAINT stan_zdrowia_pk PRIMARY KEY ( id_choroby,
                                                 id_lekarstwa,
                                                 id_zdrowia,
                                                 id_szczepienia );

CREATE TABLE szczepienia (
    id_szczepienia INTEGER NOT NULL,
    szczepionka    VARCHAR2(40)
);

ALTER TABLE szczepienia ADD CONSTRAINT szczepienia_pk PRIMARY KEY ( id_szczepienia );

CREATE TABLE uzytkownicy (
    id_uZytkownika INTEGER NOT NULL,
    imie           VARCHAR2(20 CHAR),
    nazwisko       VARCHAR2(30 CHAR),
    nr_telefonu    VARCHAR2(13 CHAR),
    email          VARCHAR2(30 CHAR),
    informacje     VARCHAR2(200 CHAR)
);

ALTER TABLE uzytkownicy ADD CONSTRAINT uzytkownicy_pk PRIMARY KEY ( id_uzytkownika );

CREATE TABLE weterynarz (
    pesel    INTEGER NOT NULL,
    imie     VARCHAR2(30),
    nazwisko VARCHAR2(30)
);

ALTER TABLE weterynarz ADD CONSTRAINT weterynarz_pk PRIMARY KEY ( pesel );

CREATE TABLE wolontariusze (
    pesel            INTEGER NOT NULL,
    imie             VARCHAR2(20 CHAR),
    nazwisko         VARCHAR2(30 CHAR),
    nr_telefonu      VARCHAR2(13 CHAR),
    email            VARCHAR2(30 CHAR),
    informacje       VARCHAR2(200 CHAR),
    pesel_pracownika INTEGER NOT NULL,
    nr_lokalu        VARCHAR2(5),
    kod_pocztowy     VARCHAR2(6),
    id_adresu        INTEGER NOT NULL
);

ALTER TABLE wolontariusze ADD CONSTRAINT wolontariusze_pk PRIMARY KEY ( pesel,
                                                                        id_adresu );

CREATE TABLE wydatki (
    id_wydatku  INTEGER NOT NULL,
    kwota       FLOAT,
    id_funduszu INTEGER NOT NULL
);

ALTER TABLE wydatki ADD CONSTRAINT wydatki_pk PRIMARY KEY ( id_wydatku,
                                                            id_funduszu );

CREATE TABLE zwierzeta (
    id_zwierzecia               INTEGER NOT NULL,
    imie                        VARCHAR2(30 CHAR),
    orientacyjna_data_urodzenia DATE,
    gabaryty                    VARCHAR2(20),
    pesel                       INTEGER NOT NULL,
    id_choroby                  INTEGER NOT NULL,
    id_lekarstwa                INTEGER NOT NULL,
    id_zdrowia                  INTEGER NOT NULL,
    id_gatunku                  INTEGER NOT NULL,
    id_rasy                     INTEGER NOT NULL,
    id_pozywienia               INTEGER NOT NULL,
    gramatura_pozywienia        INTEGER,
    id_szczepienia              INTEGER NOT NULL
);

ALTER TABLE zwierzeta
    ADD CONSTRAINT zwierzeta_pk PRIMARY KEY ( id_zwierzecia,
                                              id_choroby,
                                              id_lekarstwa,
                                              id_zdrowia,
                                              id_szczepienia,
                                              id_gatunku,
                                              id_rasy,
                                              id_pozywienia );

CREATE TABLE zywienie (
    id_pozywienia    INTEGER NOT NULL,
    nazwa_pozywienia VARCHAR2(50)
);

ALTER TABLE zywienie ADD CONSTRAINT zywienie_pk PRIMARY KEY ( id_pozywienia );

ALTER TABLE adopcje
    ADD CONSTRAINT adopcje_pracownicy_fk FOREIGN KEY ( pesel_pracownika )
        REFERENCES pracownicy ( pesel_pracownika );

ALTER TABLE adopcje
    ADD CONSTRAINT adopcje_zwierzeta_fk FOREIGN KEY ( id_zwierzecia,
                                                      id_choroby,
                                                      id_lekarstwa,
                                                      id_zdrowia,
                                                      id_szczepienia,
                                                      id_gatunku,
                                                      id_rasy,
                                                      id_pozywienia )
        REFERENCES zwierzeta ( id_zwierzecia,
                               id_choroby,
                               id_lekarstwa,
                               id_zdrowia,
                               id_szczepienia,
                               id_gatunku,
                               id_rasy,
                               id_pozywienia );

ALTER TABLE fundusze
    ADD CONSTRAINT fundusze_pracownicy_fk FOREIGN KEY ( pesel_pracownika )
        REFERENCES pracownicy ( pesel_pracownika );

ALTER TABLE pracownicy
    ADD CONSTRAINT pracownicy_adres_fk FOREIGN KEY ( id_adresu )
        REFERENCES adres ( id_adresu );

ALTER TABLE przychody
    ADD CONSTRAINT przychody_fundusze_fk FOREIGN KEY ( id_funduszu )
        REFERENCES fundusze ( id_funduszu );

ALTER TABLE przychody
    ADD CONSTRAINT przychody_uzytkownicy_fk FOREIGN KEY ( id_uzytkownika )
        REFERENCES uzytkownicy ( id_uzytkownika );

ALTER TABLE stan_zdrowia
    ADD CONSTRAINT stan_zdrowia_choroba_fk FOREIGN KEY ( id_choroby )
        REFERENCES choroba ( id_choroby );

ALTER TABLE stan_zdrowia
    ADD CONSTRAINT stan_zdrowia_leki_fk FOREIGN KEY ( id_lekarstwa )
        REFERENCES leki ( id_lekarstwa );

ALTER TABLE stan_zdrowia
    ADD CONSTRAINT stan_zdrowia_szczepienia_fk FOREIGN KEY ( id_szczepienia )
        REFERENCES szczepienia ( id_szczepienia );

ALTER TABLE wolontariusze
    ADD CONSTRAINT wolontariusze_adres_fk FOREIGN KEY ( id_adresu )
        REFERENCES adres ( id_adresu );

ALTER TABLE wolontariusze
    ADD CONSTRAINT wolontariusze_pracownicy_fk FOREIGN KEY ( pesel_pracownika )
        REFERENCES pracownicy ( pesel_pracownika );

ALTER TABLE wydatki
    ADD CONSTRAINT wydatki_fundusze_fk FOREIGN KEY ( id_funduszu )
        REFERENCES fundusze ( id_funduszu );

ALTER TABLE zwierzeta
    ADD CONSTRAINT zwierzeta_gatunki_fk FOREIGN KEY ( id_gatunku )
        REFERENCES gatunki ( id_gatunku );

ALTER TABLE zwierzeta
    ADD CONSTRAINT zwierzeta_rasy_fk FOREIGN KEY ( id_rasy )
        REFERENCES rasy ( id_rasy );

ALTER TABLE zwierzeta
    ADD CONSTRAINT zwierzeta_stan_zdrowia_fk FOREIGN KEY ( id_choroby,
                                                           id_lekarstwa,
                                                           id_zdrowia,
                                                           id_szczepienia )
        REFERENCES stan_zdrowia ( id_choroby,
                                  id_lekarstwa,
                                  id_zdrowia,
                                  id_szczepienia );

ALTER TABLE zwierzeta
    ADD CONSTRAINT zwierzeta_weterynarz_fk FOREIGN KEY ( pesel )
        REFERENCES weterynarz ( pesel );

ALTER TABLE zwierzeta
    ADD CONSTRAINT zwierzeta_zywienie_fk FOREIGN KEY ( id_pozywienia )
        REFERENCES zywienie ( id_pozywienia );



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            17
-- CREATE INDEX                             0
-- ALTER TABLE                             34
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
